package com.daaw;

import android.util.SparseArray;
import com.google.android.gms.internal.ads.zzavb;
import com.google.android.gms.internal.ads.zzavc;
import java.nio.ByteBuffer;
import java.util.Arrays;
import java.util.Locale;
import java.util.UUID;
/* loaded from: classes.dex */
public final class ft2 implements ns2 {

    /* renamed from: Z */
    public static final ps2 f9887Z = new at2();

    /* renamed from: a0 */
    public static final byte[] f9888a0 = {49, 10, 48, 48, 58, 48, 48, 58, 48, 48, 44, 48, 48, 48, 32, 45, 45, 62, 32, 48, 48, 58, 48, 48, 58, 48, 48, 44, 48, 48, 48, 10};

    /* renamed from: b0 */
    public static final byte[] f9889b0 = {32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32};

    /* renamed from: c0 */
    public static final UUID f9890c0 = new UUID(72057594037932032L, -9223371306706625679L);

    /* renamed from: A */
    public dz2 f9891A;

    /* renamed from: B */
    public dz2 f9892B;

    /* renamed from: C */
    public boolean f9893C;

    /* renamed from: D */
    public int f9894D;

    /* renamed from: E */
    public long f9895E;

    /* renamed from: F */
    public long f9896F;

    /* renamed from: G */
    public int f9897G;

    /* renamed from: H */
    public int f9898H;

    /* renamed from: I */
    public int[] f9899I;

    /* renamed from: J */
    public int f9900J;

    /* renamed from: K */
    public int f9901K;

    /* renamed from: L */
    public int f9902L;

    /* renamed from: M */
    public int f9903M;

    /* renamed from: N */
    public boolean f9904N;

    /* renamed from: O */
    public boolean f9905O;

    /* renamed from: P */
    public boolean f9906P;

    /* renamed from: Q */
    public boolean f9907Q;

    /* renamed from: R */
    public byte f9908R;

    /* renamed from: S */
    public int f9909S;

    /* renamed from: T */
    public int f9910T;

    /* renamed from: U */
    public int f9911U;

    /* renamed from: V */
    public boolean f9912V;

    /* renamed from: W */
    public boolean f9913W;

    /* renamed from: X */
    public os2 f9914X;

    /* renamed from: Y */
    public final zs2 f9915Y;

    /* renamed from: a */
    public final kt2 f9916a;

    /* renamed from: b */
    public final SparseArray f9917b;

    /* renamed from: c */
    public final boolean f9918c;

    /* renamed from: d */
    public final iz2 f9919d;

    /* renamed from: e */
    public final iz2 f9920e;

    /* renamed from: f */
    public final iz2 f9921f;

    /* renamed from: g */
    public final iz2 f9922g;

    /* renamed from: h */
    public final iz2 f9923h;

    /* renamed from: i */
    public final iz2 f9924i;

    /* renamed from: j */
    public final iz2 f9925j;

    /* renamed from: k */
    public final iz2 f9926k;

    /* renamed from: l */
    public final iz2 f9927l;

    /* renamed from: m */
    public ByteBuffer f9928m;

    /* renamed from: n */
    public long f9929n;

    /* renamed from: o */
    public long f9930o;

    /* renamed from: p */
    public long f9931p;

    /* renamed from: q */
    public long f9932q;

    /* renamed from: r */
    public long f9933r;

    /* renamed from: s */
    public et2 f9934s;

    /* renamed from: t */
    public boolean f9935t;

    /* renamed from: u */
    public int f9936u;

    /* renamed from: v */
    public long f9937v;

    /* renamed from: w */
    public boolean f9938w;

    /* renamed from: x */
    public long f9939x;

    /* renamed from: y */
    public long f9940y;

    /* renamed from: z */
    public long f9941z;

    public ft2(int i) {
        zs2 zs2Var = new zs2();
        this.f9930o = -1L;
        this.f9931p = -9223372036854775807L;
        this.f9932q = -9223372036854775807L;
        this.f9933r = -9223372036854775807L;
        this.f9939x = -1L;
        this.f9940y = -1L;
        this.f9941z = -9223372036854775807L;
        this.f9915Y = zs2Var;
        zs2Var.m1943b(new ct2(this, null));
        this.f9918c = true;
        this.f9916a = new kt2();
        this.f9917b = new SparseArray();
        this.f9921f = new iz2(4);
        this.f9922g = new iz2(ByteBuffer.allocate(4).putInt(-1).array());
        this.f9923h = new iz2(4);
        this.f9919d = new iz2(gz2.f11863a);
        this.f9920e = new iz2(4);
        this.f9924i = new iz2();
        this.f9925j = new iz2();
        this.f9926k = new iz2(8);
        this.f9927l = new iz2();
    }

    /* renamed from: l */
    public static final int m22294l(int i) {
        switch (i) {
            case 131:
            case 136:
            case 155:
            case 159:
            case 176:
            case 179:
            case 186:
            case 215:
            case 231:
            case 241:
            case 251:
            case 16980:
            case 17029:
            case 17143:
            case 18401:
            case 18408:
            case 20529:
            case 20530:
            case 21420:
            case 21432:
            case 21680:
            case 21682:
            case 21690:
            case 21930:
            case 21945:
            case 21946:
            case 21947:
            case 21948:
            case 21949:
            case 22186:
            case 22203:
            case 25188:
            case 2352003:
            case 2807729:
                return 2;
            case 134:
            case 17026:
            case 2274716:
                return 3;
            case 160:
            case 174:
            case 183:
            case 187:
            case 224:
            case 225:
            case 18407:
            case 19899:
            case 20532:
            case 20533:
            case 21936:
            case 21968:
            case 25152:
            case 28032:
            case 30320:
            case 290298740:
            case 357149030:
            case 374648427:
            case 408125543:
            case 440786851:
            case 475249515:
            case 524531317:
                return 1;
            case 161:
            case 163:
            case 16981:
            case 18402:
            case 21419:
            case 25506:
            case 30322:
                return 4;
            case 181:
            case 17545:
            case 21969:
            case 21970:
            case 21971:
            case 21972:
            case 21973:
            case 21974:
            case 21975:
            case 21976:
            case 21977:
            case 21978:
                return 5;
            default:
                return 0;
        }
    }

    /* renamed from: m */
    public static final boolean m22293m(int i) {
        return i == 357149030 || i == 524531317 || i == 475249515 || i == 374648427;
    }

    /* renamed from: q */
    public static int[] m22289q(int[] iArr, int i) {
        if (iArr == null) {
            return new int[i];
        }
        int length = iArr.length;
        return length >= i ? iArr : new int[Math.max(length + length, i)];
    }

    @Override // com.daaw.ns2
    /* renamed from: b */
    public final boolean mo1914b(ms2 ms2Var) {
        return new gt2().m21238a(ms2Var);
    }

    @Override // com.daaw.ns2
    /* renamed from: c */
    public final void mo1913c(os2 os2Var) {
        this.f9914X = os2Var;
    }

    @Override // com.daaw.ns2
    /* renamed from: d */
    public final void mo1912d(long j, long j2) {
        this.f9941z = -9223372036854775807L;
        this.f9894D = 0;
        this.f9915Y.m1944a();
        this.f9916a.m17437d();
        m22290p();
    }

    @Override // com.daaw.ns2
    /* renamed from: e */
    public final int mo1911e(ms2 ms2Var, ss2 ss2Var) {
        this.f9912V = false;
        while (!this.f9912V) {
            if (!this.f9915Y.m1942c(ms2Var)) {
                return -1;
            }
            long m15801d = ms2Var.m15801d();
            if (this.f9938w) {
                this.f9940y = m15801d;
                ss2Var.f26600a = this.f9939x;
                this.f9938w = false;
                return 1;
            } else if (this.f9935t) {
                long j = this.f9940y;
                if (j != -1) {
                    ss2Var.f26600a = j;
                    this.f9940y = -1L;
                    return 1;
                }
            }
        }
        return 0;
    }

    /* renamed from: f */
    public final void m22300f(int i) {
        us2 ts2Var;
        dz2 dz2Var;
        dz2 dz2Var2;
        int i2;
        int i3 = 0;
        if (i == 160) {
            if (this.f9894D != 2) {
                return;
            }
            if (!this.f9913W) {
                this.f9902L |= 1;
            }
            m22291o((et2) this.f9917b.get(this.f9900J), this.f9895E);
            this.f9894D = 0;
        } else if (i == 174) {
            String str = this.f9934s.f8781a;
            if ("V_VP8".equals(str) || "V_VP9".equals(str) || "V_MPEG2".equals(str) || "V_MPEG4/ISO/SP".equals(str) || "V_MPEG4/ISO/ASP".equals(str) || "V_MPEG4/ISO/AP".equals(str) || "V_MPEG4/ISO/AVC".equals(str) || "V_MPEGH/ISO/HEVC".equals(str) || "V_MS/VFW/FOURCC".equals(str) || "V_THEORA".equals(str) || "A_OPUS".equals(str) || "A_VORBIS".equals(str) || "A_AAC".equals(str) || "A_MPEG/L2".equals(str) || "A_MPEG/L3".equals(str) || "A_AC3".equals(str) || "A_EAC3".equals(str) || "A_TRUEHD".equals(str) || "A_DTS".equals(str) || "A_DTS/EXPRESS".equals(str) || "A_DTS/LOSSLESS".equals(str) || "A_FLAC".equals(str) || "A_MS/ACM".equals(str) || "A_PCM/INT/LIT".equals(str) || "S_TEXT/UTF8".equals(str) || "S_VOBSUB".equals(str) || "S_HDMV/PGS".equals(str) || "S_DVBSUB".equals(str)) {
                et2 et2Var = this.f9934s;
                et2Var.m23197b(this.f9914X, et2Var.f8782b);
                SparseArray sparseArray = this.f9917b;
                et2 et2Var2 = this.f9934s;
                sparseArray.put(et2Var2.f8782b, et2Var2);
            }
            this.f9934s = null;
        } else if (i == 19899) {
            int i4 = this.f9936u;
            if (i4 != -1) {
                long j = this.f9937v;
                if (j != -1) {
                    if (i4 == 475249515) {
                        this.f9939x = j;
                        return;
                    }
                    return;
                }
            }
            throw new eq2("Mandatory element SeekID or SeekPosition not found");
        } else if (i == 25152) {
            et2 et2Var3 = this.f9934s;
            if (et2Var3.f8785e) {
                if (et2Var3.f8787g == null) {
                    throw new eq2("Encrypted Track found but ContentEncKeyID was not found");
                }
                et2Var3.f8789i = new zzavc(new zzavb(jp2.f15306b, "video/webm", this.f9934s.f8787g.f30552b, false));
            }
        } else if (i == 28032) {
            et2 et2Var4 = this.f9934s;
            if (et2Var4.f8785e && et2Var4.f8786f != null) {
                throw new eq2("Combining encryption and compression is not supported");
            }
        } else if (i == 357149030) {
            if (this.f9931p == -9223372036854775807L) {
                this.f9931p = 1000000L;
            }
            long j2 = this.f9932q;
            if (j2 != -9223372036854775807L) {
                this.f9933r = m22292n(j2);
            }
        } else if (i == 374648427) {
            if (this.f9917b.size() == 0) {
                throw new eq2("No valid tracks were found");
            }
            this.f9914X.zzb();
        } else if (i == 475249515 && !this.f9935t) {
            os2 os2Var = this.f9914X;
            if (this.f9930o == -1 || this.f9933r == -9223372036854775807L || (dz2Var = this.f9891A) == null || dz2Var.m23806a() == 0 || (dz2Var2 = this.f9892B) == null || dz2Var2.m23806a() != dz2Var.m23806a()) {
                this.f9891A = null;
                this.f9892B = null;
                ts2Var = new ts2(this.f9933r);
            } else {
                int m23806a = dz2Var.m23806a();
                int[] iArr = new int[m23806a];
                long[] jArr = new long[m23806a];
                long[] jArr2 = new long[m23806a];
                long[] jArr3 = new long[m23806a];
                for (int i5 = 0; i5 < m23806a; i5++) {
                    jArr3[i5] = this.f9891A.m23805b(i5);
                    jArr[i5] = this.f9930o + this.f9892B.m23805b(i5);
                }
                while (true) {
                    i2 = m23806a - 1;
                    if (i3 >= i2) {
                        break;
                    }
                    int i6 = i3 + 1;
                    iArr[i3] = (int) (jArr[i6] - jArr[i3]);
                    jArr2[i3] = jArr3[i6] - jArr3[i3];
                    i3 = i6;
                }
                iArr[i2] = (int) ((this.f9930o + this.f9929n) - jArr[i2]);
                jArr2[i2] = this.f9933r - jArr3[i2];
                this.f9891A = null;
                this.f9892B = null;
                ts2Var = new ls2(iArr, jArr, jArr2, jArr3);
            }
            os2Var.mo9819b(ts2Var);
            this.f9935t = true;
        }
    }

    /* renamed from: g */
    public final void m22299g(int i, double d) {
        if (i == 181) {
            this.f9934s.f8773I = (int) d;
        } else if (i == 17545) {
            this.f9932q = (long) d;
        } else {
            switch (i) {
                case 21969:
                    this.f9934s.f8803w = (float) d;
                    return;
                case 21970:
                    this.f9934s.f8804x = (float) d;
                    return;
                case 21971:
                    this.f9934s.f8805y = (float) d;
                    return;
                case 21972:
                    this.f9934s.f8806z = (float) d;
                    return;
                case 21973:
                    this.f9934s.f8765A = (float) d;
                    return;
                case 21974:
                    this.f9934s.f8766B = (float) d;
                    return;
                case 21975:
                    this.f9934s.f8767C = (float) d;
                    return;
                case 21976:
                    this.f9934s.f8768D = (float) d;
                    return;
                case 21977:
                    this.f9934s.f8769E = (float) d;
                    return;
                case 21978:
                    this.f9934s.f8770F = (float) d;
                    return;
                default:
                    return;
            }
        }
    }

    /* renamed from: h */
    public final void m22298h(int i, long j) {
        if (i == 20529) {
            if (j == 0) {
                return;
            }
            throw new eq2("ContentEncodingOrder " + j + " not supported");
        } else if (i == 20530) {
            if (j == 1) {
                return;
            }
            throw new eq2("ContentEncodingScope " + j + " not supported");
        } else {
            switch (i) {
                case 131:
                    this.f9934s.f8783c = (int) j;
                    return;
                case 136:
                    this.f9934s.f8776L = j == 1;
                    return;
                case 155:
                    this.f9896F = m22292n(j);
                    return;
                case 159:
                    this.f9934s.f8771G = (int) j;
                    return;
                case 176:
                    this.f9934s.f8790j = (int) j;
                    return;
                case 179:
                    this.f9891A.m23804c(m22292n(j));
                    return;
                case 186:
                    this.f9934s.f8791k = (int) j;
                    return;
                case 215:
                    this.f9934s.f8782b = (int) j;
                    return;
                case 231:
                    this.f9941z = m22292n(j);
                    return;
                case 241:
                    if (this.f9893C) {
                        return;
                    }
                    this.f9892B.m23804c(j);
                    this.f9893C = true;
                    return;
                case 251:
                    this.f9913W = true;
                    return;
                case 16980:
                    if (j == 3) {
                        return;
                    }
                    throw new eq2("ContentCompAlgo " + j + " not supported");
                case 17029:
                    if (j < 1 || j > 2) {
                        throw new eq2("DocTypeReadVersion " + j + " not supported");
                    }
                    return;
                case 17143:
                    if (j == 1) {
                        return;
                    }
                    throw new eq2("EBMLReadVersion " + j + " not supported");
                case 18401:
                    if (j == 5) {
                        return;
                    }
                    throw new eq2("ContentEncAlgo " + j + " not supported");
                case 18408:
                    if (j == 1) {
                        return;
                    }
                    throw new eq2("AESSettingsCipherMode " + j + " not supported");
                case 21420:
                    this.f9937v = j + this.f9930o;
                    return;
                case 21432:
                    int i2 = (int) j;
                    if (i2 == 0) {
                        this.f9934s.f8796p = 0;
                        return;
                    } else if (i2 == 1) {
                        this.f9934s.f8796p = 2;
                        return;
                    } else if (i2 == 3) {
                        this.f9934s.f8796p = 1;
                        return;
                    } else if (i2 != 15) {
                        return;
                    } else {
                        this.f9934s.f8796p = 3;
                        return;
                    }
                case 21680:
                    this.f9934s.f8792l = (int) j;
                    return;
                case 21682:
                    this.f9934s.f8794n = (int) j;
                    return;
                case 21690:
                    this.f9934s.f8793m = (int) j;
                    return;
                case 21930:
                    this.f9934s.f8777M = j == 1;
                    return;
                case 22186:
                    this.f9934s.f8774J = j;
                    return;
                case 22203:
                    this.f9934s.f8775K = j;
                    return;
                case 25188:
                    this.f9934s.f8772H = (int) j;
                    return;
                case 2352003:
                    this.f9934s.f8784d = (int) j;
                    return;
                case 2807729:
                    this.f9931p = j;
                    return;
                default:
                    switch (i) {
                        case 21945:
                            int i3 = (int) j;
                            if (i3 == 1) {
                                this.f9934s.f8800t = 2;
                                return;
                            } else if (i3 != 2) {
                                return;
                            } else {
                                this.f9934s.f8800t = 1;
                                return;
                            }
                        case 21946:
                            int i4 = (int) j;
                            if (i4 != 1) {
                                if (i4 == 16) {
                                    this.f9934s.f8799s = 6;
                                    return;
                                } else if (i4 == 18) {
                                    this.f9934s.f8799s = 7;
                                    return;
                                } else if (i4 != 6 && i4 != 7) {
                                    return;
                                }
                            }
                            this.f9934s.f8799s = 3;
                            return;
                        case 21947:
                            et2 et2Var = this.f9934s;
                            et2Var.f8797q = true;
                            int i5 = (int) j;
                            if (i5 == 1) {
                                et2Var.f8798r = 1;
                                return;
                            } else if (i5 == 9) {
                                et2Var.f8798r = 6;
                                return;
                            } else if (i5 == 4 || i5 == 5 || i5 == 6 || i5 == 7) {
                                et2Var.f8798r = 2;
                                return;
                            } else {
                                return;
                            }
                        case 21948:
                            this.f9934s.f8801u = (int) j;
                            return;
                        case 21949:
                            this.f9934s.f8802v = (int) j;
                            return;
                        default:
                            return;
                    }
            }
        }
    }

    /* renamed from: i */
    public final void m22297i(int i, long j, long j2) {
        if (i == 160) {
            this.f9913W = false;
        } else if (i == 174) {
            this.f9934s = new et2(null);
        } else if (i == 187) {
            this.f9893C = false;
        } else if (i == 19899) {
            this.f9936u = -1;
            this.f9937v = -1L;
        } else if (i == 20533) {
            this.f9934s.f8785e = true;
        } else if (i == 21968) {
            this.f9934s.f8797q = true;
        } else if (i == 408125543) {
            long j3 = this.f9930o;
            if (j3 != -1 && j3 != j) {
                throw new eq2("Multiple Segment elements not supported");
            }
            this.f9930o = j;
            this.f9929n = j2;
        } else if (i == 475249515) {
            this.f9891A = new dz2(32);
            this.f9892B = new dz2(32);
        } else if (i == 524531317 && !this.f9935t) {
            if (this.f9918c && this.f9939x != -1) {
                this.f9938w = true;
                return;
            }
            this.f9914X.mo9819b(new ts2(this.f9933r));
            this.f9935t = true;
        }
    }

    /* renamed from: j */
    public final void m22296j(int i, String str) {
        if (i == 134) {
            this.f9934s.f8781a = str;
        } else if (i != 17026) {
            if (i != 2274716) {
                return;
            }
            et2.m23198a(this.f9934s, str);
        } else if ("webm".equals(str) || "matroska".equals(str)) {
        } else {
            throw new eq2("DocType " + str + " not supported");
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:80:0x01e9, code lost:
        throw new com.daaw.eq2("EBML lacing sample size out of range.");
     */
    /* JADX WARN: Removed duplicated region for block: B:95:0x0235  */
    /* JADX WARN: Removed duplicated region for block: B:96:0x0238  */
    /* renamed from: k */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public final void m22295k(int i, int i2, ms2 ms2Var) {
        long j;
        int i3;
        int i4;
        int i5;
        int i6;
        int i7 = i;
        int i8 = 1;
        int i9 = 0;
        if (i7 != 161 && i7 != 163) {
            if (i7 == 16981) {
                byte[] bArr = new byte[i2];
                this.f9934s.f8786f = bArr;
                ms2Var.m15797h(bArr, 0, i2, false);
                return;
            } else if (i7 == 18402) {
                byte[] bArr2 = new byte[i2];
                ms2Var.m15797h(bArr2, 0, i2, false);
                this.f9934s.f8787g = new vs2(1, bArr2);
                return;
            } else if (i7 == 21419) {
                Arrays.fill(this.f9923h.f14125a, (byte) 0);
                ms2Var.m15797h(this.f9923h.f14125a, 4 - i2, i2, false);
                this.f9923h.m19225v(0);
                this.f9936u = (int) this.f9923h.m19234m();
                return;
            } else if (i7 == 25506) {
                byte[] bArr3 = new byte[i2];
                this.f9934s.f8788h = bArr3;
                ms2Var.m15797h(bArr3, 0, i2, false);
                return;
            } else if (i7 == 30322) {
                byte[] bArr4 = new byte[i2];
                this.f9934s.f8795o = bArr4;
                ms2Var.m15797h(bArr4, 0, i2, false);
                return;
            } else {
                throw new eq2("Unexpected id: " + i7);
            }
        }
        if (this.f9894D == 0) {
            this.f9900J = (int) this.f9916a.m17436e(ms2Var, false, true, 8);
            this.f9901K = this.f9916a.m17440a();
            this.f9896F = -9223372036854775807L;
            this.f9894D = 1;
            this.f9921f.m19229r();
        }
        et2 et2Var = (et2) this.f9917b.get(this.f9900J);
        if (et2Var == null) {
            ms2Var.m15796i(i2 - this.f9901K, false);
            this.f9894D = 0;
            return;
        }
        if (this.f9894D == 1) {
            m22287s(ms2Var, 3);
            int i10 = (this.f9921f.f14125a[2] & 6) >> 1;
            byte b = 255;
            if (i10 == 0) {
                this.f9898H = 1;
                int[] m22289q = m22289q(this.f9899I, 1);
                this.f9899I = m22289q;
                m22289q[0] = (i2 - this.f9901K) - 3;
            } else if (i7 != 163) {
                throw new eq2("Lacing only supported in SimpleBlocks.");
            } else {
                int i11 = 4;
                m22287s(ms2Var, 4);
                int i12 = (this.f9921f.f14125a[3] & 255) + 1;
                this.f9898H = i12;
                int[] m22289q2 = m22289q(this.f9899I, i12);
                this.f9899I = m22289q2;
                if (i10 == 2) {
                    int i13 = this.f9901K;
                    int i14 = this.f9898H;
                    Arrays.fill(m22289q2, 0, i14, ((i2 - i13) - 4) / i14);
                } else if (i10 == 1) {
                    int i15 = 0;
                    int i16 = 0;
                    while (true) {
                        i3 = this.f9898H - 1;
                        if (i15 >= i3) {
                            break;
                        }
                        this.f9899I[i15] = 0;
                        do {
                            i11++;
                            m22287s(ms2Var, i11);
                            i4 = this.f9921f.f14125a[i11 - 1] & 255;
                            int[] iArr = this.f9899I;
                            i5 = iArr[i15] + i4;
                            iArr[i15] = i5;
                        } while (i4 == 255);
                        i16 += i5;
                        i15++;
                    }
                    this.f9899I[i3] = ((i2 - this.f9901K) - i11) - i16;
                } else if (i10 != 3) {
                    throw new eq2("Unexpected lacing value: 2");
                } else {
                    int i17 = 0;
                    int i18 = 0;
                    while (true) {
                        int i19 = this.f9898H - 1;
                        if (i17 >= i19) {
                            this.f9899I[i19] = ((i2 - this.f9901K) - i11) - i18;
                            break;
                        }
                        this.f9899I[i17] = i9;
                        i11++;
                        m22287s(ms2Var, i11);
                        int i20 = i11 - 1;
                        if (this.f9921f.f14125a[i20] == 0) {
                            throw new eq2("No valid varint length mask found");
                        }
                        int i21 = 0;
                        while (true) {
                            if (i21 >= 8) {
                                j = 0;
                                break;
                            }
                            int i22 = i8 << (7 - i21);
                            if ((this.f9921f.f14125a[i20] & i22) != 0) {
                                int i23 = i11 + i21;
                                m22287s(ms2Var, i23);
                                int i24 = i20 + 1;
                                j = this.f9921f.f14125a[i20] & b & (i22 ^ (-1));
                                while (i24 < i23) {
                                    j = (j << 8) | (this.f9921f.f14125a[i24] & b);
                                    i24++;
                                    i23 = i23;
                                    b = 255;
                                }
                                int i25 = i23;
                                if (i17 > 0) {
                                    j -= (1 << ((i21 * 7) + 6)) - 1;
                                }
                                i11 = i25;
                            } else {
                                i21++;
                                i8 = 1;
                                b = 255;
                            }
                        }
                        if (j < -2147483648L || j > 2147483647L) {
                            break;
                        }
                        int i26 = (int) j;
                        int[] iArr2 = this.f9899I;
                        if (i17 != 0) {
                            i26 += iArr2[i17 - 1];
                        }
                        iArr2[i17] = i26;
                        i18 += i26;
                        i17++;
                        i8 = 1;
                        i9 = 0;
                        b = 255;
                    }
                }
            }
            byte[] bArr5 = this.f9921f.f14125a;
            this.f9895E = this.f9941z + m22292n((bArr5[1] & 255) | (bArr5[0] << 8));
            byte b2 = this.f9921f.f14125a[2];
            int i27 = b2 & 8;
            if (et2Var.f8783c != 2) {
                if (i7 == 163) {
                    if ((b2 & 128) == 128) {
                        i7 = 163;
                    } else {
                        i7 = 163;
                    }
                }
                i6 = 0;
                this.f9902L = i6 | (i27 != 8 ? Integer.MIN_VALUE : 0);
                this.f9894D = 2;
                this.f9897G = 0;
            }
            i6 = 1;
            this.f9902L = i6 | (i27 != 8 ? Integer.MIN_VALUE : 0);
            this.f9894D = 2;
            this.f9897G = 0;
        }
        if (i7 != 163) {
            m22286t(ms2Var, et2Var, this.f9899I[0]);
            return;
        }
        while (true) {
            int i28 = this.f9897G;
            if (i28 >= this.f9898H) {
                this.f9894D = 0;
                return;
            }
            m22286t(ms2Var, et2Var, this.f9899I[i28]);
            m22291o(et2Var, this.f9895E + ((this.f9897G * et2Var.f8784d) / 1000));
            this.f9897G++;
        }
    }

    /* renamed from: n */
    public final long m22292n(long j) {
        long j2 = this.f9931p;
        if (j2 != -9223372036854775807L) {
            return pz2.m12840j(j, j2, 1000L);
        }
        throw new eq2("Can't scale timecode prior to timecodeScale being set.");
    }

    /* renamed from: o */
    public final void m22291o(et2 et2Var, long j) {
        int i;
        byte[] m12833q;
        if ("S_TEXT/UTF8".equals(et2Var.f8781a)) {
            byte[] bArr = this.f9925j.f14125a;
            long j2 = this.f9896F;
            if (j2 == -9223372036854775807L) {
                m12833q = f9889b0;
            } else {
                int i2 = (int) (j2 / 3600000000L);
                long j3 = j2 - (i2 * 3600000000L);
                int i3 = (int) (j3 / 60000000);
                long j4 = j3 - (60000000 * i3);
                m12833q = pz2.m12833q(String.format(Locale.US, "%02d:%02d:%02d,%03d", Integer.valueOf(i2), Integer.valueOf(i3), Integer.valueOf((int) (j4 / 1000000)), Integer.valueOf((int) ((j4 - (i * 1000000)) / 1000))));
            }
            System.arraycopy(m12833q, 0, bArr, 19, 12);
            ws2 ws2Var = et2Var.f8779O;
            iz2 iz2Var = this.f9925j;
            ws2Var.mo5826c(iz2Var, iz2Var.m19243d());
            this.f9911U += this.f9925j.m19243d();
        }
        et2Var.f8779O.mo5825d(j, this.f9902L, this.f9911U, 0, et2Var.f8787g);
        this.f9912V = true;
        m22290p();
    }

    /* renamed from: p */
    public final void m22290p() {
        this.f9903M = 0;
        this.f9911U = 0;
        this.f9910T = 0;
        this.f9904N = false;
        this.f9905O = false;
        this.f9907Q = false;
        this.f9909S = 0;
        this.f9908R = (byte) 0;
        this.f9906P = false;
        this.f9924i.m19229r();
    }

    /* renamed from: r */
    public final int m22288r(ms2 ms2Var, ws2 ws2Var, int i) {
        int mo5827b;
        int m19246a = this.f9924i.m19246a();
        if (m19246a > 0) {
            mo5827b = Math.min(i, m19246a);
            ws2Var.mo5826c(this.f9924i, mo5827b);
        } else {
            mo5827b = ws2Var.mo5827b(ms2Var, i, false);
        }
        this.f9903M += mo5827b;
        this.f9911U += mo5827b;
        return mo5827b;
    }

    /* renamed from: s */
    public final void m22287s(ms2 ms2Var, int i) {
        if (this.f9921f.m19243d() >= i) {
            return;
        }
        if (this.f9921f.m19245b() < i) {
            iz2 iz2Var = this.f9921f;
            byte[] bArr = iz2Var.f14125a;
            int length = bArr.length;
            iz2Var.m19227t(Arrays.copyOf(bArr, Math.max(length + length, i)), this.f9921f.m19243d());
        }
        iz2 iz2Var2 = this.f9921f;
        ms2Var.m15797h(iz2Var2.f14125a, iz2Var2.m19243d(), i - this.f9921f.m19243d(), false);
        this.f9921f.m19226u(i);
    }

    /* renamed from: t */
    public final void m22286t(ms2 ms2Var, et2 et2Var, int i) {
        int i2;
        if ("S_TEXT/UTF8".equals(et2Var.f8781a)) {
            int i3 = i + 32;
            if (this.f9925j.m19245b() < i3) {
                this.f9925j.f14125a = Arrays.copyOf(f9888a0, i3 + i);
            }
            ms2Var.m15797h(this.f9925j.f14125a, 32, i, false);
            this.f9925j.m19225v(0);
            this.f9925j.m19226u(i3);
            return;
        }
        ws2 ws2Var = et2Var.f8779O;
        if (!this.f9904N) {
            if (et2Var.f8785e) {
                this.f9902L &= -1073741825;
                if (!this.f9905O) {
                    ms2Var.m15797h(this.f9921f.f14125a, 0, 1, false);
                    this.f9903M++;
                    byte b = this.f9921f.f14125a[0];
                    if ((b & 128) == 128) {
                        throw new eq2("Extension bit is set in signal byte");
                    }
                    this.f9908R = b;
                    this.f9905O = true;
                }
                byte b2 = this.f9908R;
                if ((b2 & 1) == 1) {
                    int i4 = b2 & 2;
                    this.f9902L |= 1073741824;
                    if (!this.f9906P) {
                        ms2Var.m15797h(this.f9926k.f14125a, 0, 8, false);
                        this.f9903M += 8;
                        this.f9906P = true;
                        iz2 iz2Var = this.f9921f;
                        iz2Var.f14125a[0] = (byte) ((i4 != 2 ? 0 : 128) | 8);
                        iz2Var.m19225v(0);
                        ws2Var.mo5826c(this.f9921f, 1);
                        this.f9911U++;
                        this.f9926k.m19225v(0);
                        ws2Var.mo5826c(this.f9926k, 8);
                        this.f9911U += 8;
                    }
                    if (i4 == 2) {
                        if (!this.f9907Q) {
                            ms2Var.m15797h(this.f9921f.f14125a, 0, 1, false);
                            this.f9903M++;
                            this.f9921f.m19225v(0);
                            this.f9909S = this.f9921f.m19240g();
                            this.f9907Q = true;
                        }
                        int i5 = this.f9909S * 4;
                        this.f9921f.m19228s(i5);
                        ms2Var.m15797h(this.f9921f.f14125a, 0, i5, false);
                        this.f9903M += i5;
                        int i6 = (this.f9909S >> 1) + 1;
                        int i7 = (i6 * 6) + 2;
                        ByteBuffer byteBuffer = this.f9928m;
                        if (byteBuffer == null || byteBuffer.capacity() < i7) {
                            this.f9928m = ByteBuffer.allocate(i7);
                        }
                        this.f9928m.position(0);
                        this.f9928m.putShort((short) i6);
                        int i8 = 0;
                        int i9 = 0;
                        while (true) {
                            i2 = this.f9909S;
                            if (i8 >= i2) {
                                break;
                            }
                            int m19238i = this.f9921f.m19238i();
                            if (i8 % 2 == 0) {
                                this.f9928m.putShort((short) (m19238i - i9));
                            } else {
                                this.f9928m.putInt(m19238i - i9);
                            }
                            i8++;
                            i9 = m19238i;
                        }
                        int i10 = (i - this.f9903M) - i9;
                        if ((i2 & 1) == 1) {
                            this.f9928m.putInt(i10);
                        } else {
                            this.f9928m.putShort((short) i10);
                            this.f9928m.putInt(0);
                        }
                        this.f9927l.m19227t(this.f9928m.array(), i7);
                        ws2Var.mo5826c(this.f9927l, i7);
                        this.f9911U += i7;
                    }
                }
            } else {
                byte[] bArr = et2Var.f8786f;
                if (bArr != null) {
                    this.f9924i.m19227t(bArr, bArr.length);
                }
            }
            this.f9904N = true;
        }
        int m19243d = i + this.f9924i.m19243d();
        if (!"V_MPEG4/ISO/AVC".equals(et2Var.f8781a) && !"V_MPEGH/ISO/HEVC".equals(et2Var.f8781a)) {
            while (true) {
                int i11 = this.f9903M;
                if (i11 >= m19243d) {
                    break;
                }
                m22288r(ms2Var, ws2Var, m19243d - i11);
            }
        } else {
            byte[] bArr2 = this.f9920e.f14125a;
            bArr2[0] = 0;
            bArr2[1] = 0;
            bArr2[2] = 0;
            int i12 = et2Var.f8780P;
            int i13 = 4 - i12;
            while (this.f9903M < m19243d) {
                int i14 = this.f9910T;
                if (i14 == 0) {
                    int min = Math.min(i12, this.f9924i.m19246a());
                    ms2Var.m15797h(bArr2, i13 + min, i12 - min, false);
                    if (min > 0) {
                        this.f9924i.m19230q(bArr2, i13, min);
                    }
                    this.f9903M += i12;
                    this.f9920e.m19225v(0);
                    this.f9910T = this.f9920e.m19238i();
                    this.f9919d.m19225v(0);
                    ws2Var.mo5826c(this.f9919d, 4);
                    this.f9911U += 4;
                } else {
                    this.f9910T = i14 - m22288r(ms2Var, ws2Var, i14);
                }
            }
        }
        if ("A_VORBIS".equals(et2Var.f8781a)) {
            this.f9922g.m19225v(0);
            ws2Var.mo5826c(this.f9922g, 4);
            this.f9911U += 4;
        }
    }
}
